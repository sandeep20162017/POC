json
{
  "Portfolio": {
    "TotalValueUSD": 1000000000,
    "Currency": "USD",
    "AsOfDate": "2023-12-31",
    "PerformanceMetrics": {
      "TotalReturn1Y": 8.7,
      "SharpeRatio": 1.35,
      "Volatility": 12.1,
      "MaxDrawdown": -9.2
    },
    "Children": {
      "Public Markets": {
        "TotalValueUSD": 400000000,
        "Allocation": {
          "ParentPercentage": 40.0,
          "AbsolutePercentage": 40.0
        },
        "Financials": {
          "Yield": 3.8,
          "Duration": 6.2,
          "Liquidity": "High"
        },
        "Children": {
          "Fixed Income": {
            "TotalValueUSD": 150000000,
            "Allocation": {
              "ParentPercentage": 37.5,
              "AbsolutePercentage": 15.0
            },
            "Children": {
              "Government Bonds": {
                "TotalValueUSD": 80000000,
                "Allocation": {
                  "ParentPercentage": 53.3,
                  "AbsolutePercentage": 8.0
                },
                "Financials": {
                  "YieldToMaturity": 4.1,
                  "Duration": 8.5,
                  "CreditQuality": "AAA"
                }
              },
              "Corporate Bonds": {
                "TotalValueUSD": 70000000,
                "Allocation": {
                  "ParentPercentage": 46.7,
                  "AbsolutePercentage": 7.0
                },
                "Financials": {
                  "YieldToWorst": 5.3,
                  "SpreadDuration": 4.2,
                  "AvgRating": "BBB+"
                }
              }
            }
          },
          "Public Equities": {
            "TotalValueUSD": 250000000,
            "Allocation": {
              "ParentPercentage": 62.5,
              "AbsolutePercentage": 25.0
            },
            "Financials": {
              "PE_Ratio": 18.7,
              "DividendYield": 1.9,
              "Beta": 1.05
            },
            "Children": {
              "Pooled Funds": {
                "TotalValueUSD": 175000000,
                "Allocation": {
                  "ParentPercentage": 70.0,
                  "AbsolutePercentage": 17.5
                },
                "Children": {
                  "Index Funds": {
                    "TotalValueUSD": 100000000,
                    "Allocation": {
                      "ParentPercentage": 57.1,
                      "AbsolutePercentage": 10.0
                    },
                    "Financials": {
                      "TrackingError": 0.15,
                      "ExpenseRatio": 0.03
                    }
                  },
                  "Active Funds": {
                    "TotalValueUSD": 75000000,
                    "Allocation": {
                      "ParentPercentage": 42.9,
                      "AbsolutePercentage": 7.5
                    },
                    "Financials": {
                      "Alpha": 1.2,
                      "ActiveShare": 85.0
                    }
                  }
                }
              }
            }
          }
        }
      },
      "Private Equity": {
        "TotalValueUSD": 200000000,
        "Allocation": {
          "ParentPercentage": 20.0,
          "AbsolutePercentage": 20.0
        },
        "Financials": {
          "GrossIRR": 18.5,
          "DPI": 0.75,
          "RVPI": 1.25
        },
        "Children": {
          "Venture Capital": {
            "TotalValueUSD": 80000000,
            "Allocation": {
              "ParentPercentage": 40.0,
              "AbsolutePercentage": 8.0
            },
            "Financials": {
              "UnrealizedMultiple": 3.2,
              "HoldingPeriod": 4.5
            }
          },
          "Buyout": {
            "TotalValueUSD": 120000000,
            "Allocation": {
              "ParentPercentage": 60.0,
              "AbsolutePercentage": 12.0
            },
            "Financials": {
              "LeverageRatio": 2.5,
              "EBITDA_Growth": 12.7
            }
          }
        }
      },
      "Infrastructure & Renewable Resources": {
        "TotalValueUSD": 150000000,
        "Allocation": {
          "ParentPercentage": 15.0,
          "AbsolutePercentage": 15.0
        },
        "Financials": {
          "ProjectIRR": 9.8,
          "DebtRatio": 60.0,
          "PPA_Remaining": 12.5
        },
        "Children": {
          "Traditional Infrastructure": {
            "TotalValueUSD": 90000000,
            "Allocation": {
              "ParentPercentage": 60.0,
              "AbsolutePercentage": 9.0
            },
            "Financials": {
              "ROIC": 8.2,
              "AssetAge": 7.3
            }
          },
          "Renewable Energy": {
            "TotalValueUSD": 60000000,
            "Allocation": {
              "ParentPercentage": 40.0,
              "AbsolutePercentage": 6.0
            },
            "Financials": {
              "CapacityFactor": 34.5,
              "REC_Price": 32.50
            }
          }
        }
      },
      "Real Estate": {
        "TotalValueUSD": 200000000,
        "Allocation": {
          "ParentPercentage": 20.0,
          "AbsolutePercentage": 20.0
        },
        "Financials": {
          "NOI": 15000000,
          "CapRate": 5.75,
          "OccupancyRate": 92.3
        },
        "Children": {
          "Equity": {
            "TotalValueUSD": 150000000,
            "Allocation": {
              "ParentPercentage": 75.0,
              "AbsolutePercentage": 15.0
            },
            "Children": {
              "Commercial": {
                "TotalValueUSD": 90000000,
                "Allocation": {
                  "ParentPercentage": 60.0,
                  "AbsolutePercentage": 9.0
                },
                "Financials": {
                  "RentPSF": 45.00,
                  "TenantWALT": 6.8
                }
              },
              "Residential": {
                "TotalValueUSD": 60000000,
                "Allocation": {
                  "ParentPercentage": 40.0,
                  "AbsolutePercentage": 6.0
                },
                "Financials": {
                  "AvgRent": 2850,
                  "VacancyRate": 4.2
                }
              }
            }
          },
          "Debt": {
            "TotalValueUSD": 50000000,
            "Allocation": {
              "ParentPercentage": 25.0,
              "AbsolutePercentage": 5.0
            },
            "Financials": {
              "LTV": 65.0,
              "DebtYield": 8.5
            },
            "Children": {
              "Senior Loans": {
                "TotalValueUSD": 35000000,
                "Allocation": {
                  "ParentPercentage": 70.0,
                  "AbsolutePercentage": 3.5
                },
                "Financials": {
                  "InterestCoverage": 2.8,
                  "MaturityLadder": 4.2
                }
              },
              "Mezzanine": {
                "TotalValueUSD": 15000000,
                "Allocation": {
                  "ParentPercentage": 30.0,
                  "AbsolutePercentage": 1.5
                },
                "Financials": {
                  "CurrentCoupon": 9.75,
                  "PIK_Component": 2.0
                }
              }
            }
          }
        }
      },
      "Pooled Funds": {
        "TotalValueUSD": 50000000,
        "Allocation": {
          "ParentPercentage": 5.0,
          "AbsolutePercentage": 5.0
        },
        "Financials": {
          "BetaAdjReturn": 7.8,
          "StrategyCorrelation": 0.65
        },
        "Children": {
          "Hedge Funds": {
            "TotalValueUSD": 30000000,
            "Allocation": {
              "ParentPercentage": 60.0,
              "AbsolutePercentage": 3.0
            },
            "Financials": {
              "ShortExposure": 35.0,
              "GrossLeverage": 2.1
            }
          },
          "PE Secondaries": {
            "TotalValueUSD": 20000000,
            "Allocation": {
              "ParentPercentage": 40.0,
              "AbsolutePercentage": 2.0
            },
            "Financials": {
              "DiscountToNAV": 12.5,
              "J-CurveStatus": "Mature"
            }
          }
        }
      }
    }
  }
}
Key Enhancements:

Multi-Level Nesting:

Added 3-4 levels of hierarchy where applicable

Example: Real Estate → Equity → Commercial → Individual Properties

Asset-Class Specific Financials:

Fixed Income: Duration, Credit Quality

Private Equity: IRR, DPI (Distributed to Paid-In)

Infrastructure: PPA (Power Purchase Agreement) terms

Real Estate Debt: LTV (Loan-to-Value), Debt Yield

Performance Metrics:

Added time-series ready structure with AsOfDate

Portfolio-level risk metrics (Sharpe Ratio, Volatility)

Asset-level operational metrics (Occupancy Rates, Capacity Factors)

Cross-Asset Comparability:

Standardized allocation percentages (Parent/Absolute)

Uniform financial metric naming conventions

Common currency (USD) basis

Recommended Analysis Use Cases:

Liquidity Analysis: Public Markets.Financials.Liquidity vs Private Equity.Financials.DPI

Risk Attribution: Portfolio.PerformanceMetrics.Volatility decomposed to asset-level betas

Cash Flow Modeling: Infrastructure.Financials.PPA_Remaining for duration analysis

Rebalancing Signals: Compare Allocation.AbsolutePercentage vs target weights

Implementation Tools:

OpenAI Function Calling: For hierarchical data extraction

JSON Schema Validator: Ensure data integrity (ajv)

Portfolio Analytics: PyPortfolioOpt
