Option A: Fix it by picking a single vehicle (e.g., first or selected)
Update your Index.cshtml to extract a single vehicle and pass it:

cshtml
Copy
Edit
@model IEnumerable<VehicleViewModel>

@{
    var selectedVehicle = Model.FirstOrDefault(); // or however you pick the one in popup
}
Then update your tab content:

c
Copy
Edit
tb.Add().Text("Vehicle").Content(@<text>
    <div id="vehicleTabContent">
        @Html.Partial("_VehPopUp", selectedVehicle)
    </div>
</text>);

tb.Add().Text("StockCoded Parts").Content(@<text>
    <div id="stockCodedPartsTabContent">
        @Html.Partial("_ScPartsUsed", selectedVehicle.StockCodedParts)
    </div>
</text>).Enabled(true);
✅ VehicleViewModel Update
In VehicleViewModel.cs, add:

csharp
Copy
Edit
public List<StockCodedPartsViewModel> StockCodedParts { get; set; }
✅ In Controller (passing to view)
If you're returning multiple vehicles:

csharp
Copy
Edit
List<VehicleViewModel> vehicles = ...; // however you load
vehicles[0].StockCodedParts = await _svc.GetScPartsUsedInVehicleEstimates(...);
return View(vehicles);
