Update the onTabSelect Function
javascript
// Replace the existing onTabSelect function with this
window.onTabSelect = function(e) {
    // Get the tab index using jQuery
    var tabStrip = $("#estimateTabs").data("kendoTabStrip");
    var idx = $(e.item).index();
    
    // Prevent infinite recursion
    if (window.currentlyLoadingTab === idx) return;
    window.currentlyLoadingTab = idx;
    
    if (pendingChanges && idx > 0) {
        e.preventDefault();
        window.currentlyLoadingTab = null;
        return kendo.alert("Please save or cancel before switching tabs.");
    }
    
    if (!window.tabContentLoaded[idx] && window.currentVehicleId > 0) {
        loadTabContent(idx, window.currentVehicleId);
    }
    
    window.currentlyLoadingTab = null;
};
Key Changes:
Fixed Index Retrieval:

javascript
var tabStrip = $("#estimateTabs").data("kendoTabStrip");
var idx = $(e.item).index();
e.item is now wrapped in $() to convert it to a jQuery object

Uses jQuery's .index() method to get the position

Added TabStrip Reference:

Added tabStrip variable for consistency (though not used in this function, good to have for future use)

Why This Works:
In Kendo UI 2023+ versions, e.item returns the raw DOM element

Wrapping it with $() converts it to a jQuery object

jQuery's .index() method correctly calculates the position relative to its siblings

Alternative Approach (Pure Kendo):
If you prefer to use Kendo methods only:

javascript
window.onTabSelect = function(e) {
    // Get the tab index using Kendo API
    var tabStrip = e.sender;
    var idx = tabStrip.items().index(e.item);
    
    // ... rest of the code remains the same ...
};
