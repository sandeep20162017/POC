function onScPartsEdit(e) {
    // Store the current model globally if needed elsewhere
    currentScPartsModel = e.model;

    // Delay execution to ensure popup editor is fully rendered
    setTimeout(function () {
        const stockCodeCombo = $("#MMSStockCode").data("kendoComboBox");

        if (stockCodeCombo) {
            if (e.model.isNew()) {
                // Add mode: make Stock Code editable
                stockCodeCombo.readonly(false);
            } else {
                // Edit mode: make Stock Code read-only
                stockCodeCombo.readonly(true);
            }
        }

        // Optional: focus on another field if needed
        $("#SomeOtherField").focus();
    }, 100);
}
