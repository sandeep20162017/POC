function onScPartsEdit(e) {
    currentScPartsModel = e.model;

    // Wait for the popup editor to render and widgets to initialize
    setTimeout(function () {
        const $stockCode = $("#MMSStockCode");

        if ($stockCode.length === 0) {
            console.warn("MMSStockCode element not found yet.");
            return;
        }

        // Wait until the ComboBox is initialized
        const waitForCombo = setInterval(function () {
            const stockCodeCombo = $stockCode.data("kendoComboBox");
            if (stockCodeCombo) {
                clearInterval(waitForCombo);

                if (e.model.isNew()) {
                    setComboBoxEditable("MMSStockCode");
                } else {
                    setComboBoxReadonly("MMSStockCode");
                }

                $("#MMSPartDescription").focus();
            }
        }, 50);
    }, 100);
}
