window.onTabSelect = function (e) {
    var index = $(e.item).index();

    var tabsConfig = [
        { id: "vehicleTabContent", url: '@Url.Action("GetVehicleById", "Vehicles")' },
        { id: "partsTabContent", url: "/Vehicles/MaterialCostSummaryPartial" },
        { id: "labourTabContent", url: "/Vehicles/LabourHourSummaryPartial" },
        { id: "labourDetailsTabContent", url: "/Vehicles/LabourDetailsPartial" },
        { id: "stockCodedPartsTabContent", url: "/Vehicles/ScDetailsPartial" },
        { id: "nonStockCodedPartsTabContent", url: "/Vehicles/NonStockPartsPartial" },
        { id: "rebuiltPartsTabContent", url: "/Vehicles/RebuiltPartsPartial" },
        { id: "finalEstimateTabContent", url: "/Vehicles/TotalCostPartial" }
    ];

    var tab = tabsConfig[index];
    if (!tab) return;

    // ðŸ”‘ Always reload tab content from server
    $("#" + tab.id).empty(); 
    loadTabContent(
        tab.id,
        tab.url,
        { id: currentVehicleId, gridType: "VehicleGrid" }
    );
};
