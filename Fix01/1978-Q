Edit is working fine now
Add is not working

Follwing never got called.
        [HttpPost]
        public async Task<IActionResult> AddMakeVsBuyView(  [DataSourceRequest] DataSourceRequest request,
            [FromBody] MakeVsBuyViewModel makevsbuyViewModel)
            
        {
        ...
  My code :
          [HttpPost]
        public async Task<IActionResult> AddMakeVsBuyView(  [DataSourceRequest] DataSourceRequest request,
            [FromBody] MakeVsBuyViewModel makevsbuyViewModel)
        {
            if (makevsbuyViewModel == null)
                return BadRequest("Unable to save. Model data is missing.");

            if (!ModelState.IsValid)
                return BadRequest("Unable to save. Required fields are missing.");

            // ADD mode: MbNumber not set yet
            if (string.IsNullOrEmpty(makevsbuyViewModel.MbNumber))
            {
                if (string.IsNullOrEmpty(makevsbuyViewModel.MbPrefix))
                    return BadRequest("Prefix is required for new estimates.");

                using (var tran = _dbConnection.BeginTransaction())
                {
                    // 1) increment sequence for this prefix
                    const string updateSql = @"
                UPDATE CES.SBCES.MBPrefixSequence
                SET LastNumber = LastNumber + 1
                WHERE PrefixCode = @Prefix;

                IF @@ROWCOUNT = 0
                BEGIN
                    INSERT INTO CES.SBCES.MBPrefixSequence (PrefixCode, LastNumber)
                    VALUES (@Prefix, 1);
                END;

                SELECT LastNumber
                FROM CES.SBCES.MBPrefixSequence
                WHERE PrefixCode = @Prefix;";

                    var nextNumber = await _dbConnection.ExecuteScalarAsync<int>(
                        updateSql,
                        new { Prefix = makevsbuyViewModel.MbPrefix },
                        tran
                    );

                    // 2) build MbNumber = PREFIX + 6â€‘digit padded number
                    makevsbuyViewModel.MbNumber =
                        makevsbuyViewModel.MbPrefix + nextNumber.ToString("D6");

                    // 3) insert into main table
                    const string insertSql = @"
                INSERT INTO CES.SBCES.MBLIST
                    (MbNumber, Keyword, Description, BusType, NumBusComp,
                     VendorPartNum, BuyCode, RebuildCode, CoreCode, AnnualUsage,
                     BenchNumber, SampleProvided, Recommendation)
                VALUES
                    (@MbNumber, @Keyword, @Description, @BusType, @NumBusComp,
                     @VendorPartNum, @BuyCode, @RebuildCode, @CoreCode, @AnnualUsage,
                     @BenchNumber, @SampleProvided, @Recommendation);";

                    await _dbConnection.ExecuteAsync(insertSql, makevsbuyViewModel, tran);

                    tran.Commit();
                }
            }
            else
            {
                // EDIT mode: update existing
                const string updateSql = @"
            UPDATE CES.SBCES.MBLIST
            SET Keyword = @Keyword,
                Description = @Description,
                BusType = @BusType,
                NumBusComp = @NumBusComp,
                VendorPartNum = @VendorPartNum,
                BuyCode = @BuyCode,
                RebuildCode = @RebuildCode,
                CoreCode = @CoreCode,
                AnnualUsage = @AnnualUsage,
                BenchNumber = @BenchNumber,
                SampleProvided = @SampleProvided,
                Recommendation = @Recommendation
            WHERE MbNumber = @MbNumber;";

                await _dbConnection.ExecuteAsync(updateSql, makevsbuyViewModel);
            }

            // return MbNumber so client can update title, etc.
            return Json(makevsbuyViewModel);
        }
    Findings :
    id=0 so never gets in in 
    if (string.IsNullOrEmpty(id))
{
    // ADD mode
    var vm = new MakeVsBuyViewModel
    {
    never gets in here
    logs :
    inside window.openEstimatePopup
window.openEstimatePopup @ MakeVsBuyIndex:325Understand this warningAI
MakeVsBuyIndex:327 mbNumber 0
window.openEstimatePopup @ MakeVsBuyIndex:327Understand this warningAI
MakeVsBuyIndex:691 loadMakeVsBuyForm - B : window.currentMbNumber : 0
open @ MakeVsBuyIndex:691Understand this warningAI
MakeVsBuyIndex:170 window.loadMakeVsBuyForm : 0
Microsoft.AspNetCore.Hosting.Diagnostics: Information: Request starting HTTP/1.1 GET https://localhost:44332/MakeVsBuy/GetMakeVsBuyById?id=0 - - -
Microsoft.AspNetCore.Hosting.Diagnostics: Information: Request starting HTTP/1.1 POST https://localhost:44332/MakeVsBuy/GetMakeVsBuyById - application/x-www-form-urlencoded;+charset=UTF-8 4
Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Debug: The request path /MakeVsBuy/GetMakeVsBuyById does not match a supported file type
Microsoft.AspNetCore.Session.DistributedSession: Debug: Session loaded; Key:9b2eee2f-8c08-2326-ffd1-818790d93908, Id:51e2b812-2296-c695-11a7-a24deda099f4, Count:6
Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Debug: 1 candidate(s) found for the request path '/MakeVsBuy/GetMakeVsBuyById'
Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Debug: Endpoint 'BCES.Controllers.Parts.MakeVsBuyController.GetMakeVsBuyById (CES)' with route pattern '{controller=Home}/{action=Index}/{id?}' is valid for the request path '/MakeVsBuy/GetMakeVsBuyById'
Microsoft.AspNetCore.Hosting.Diagnostics: Information: Request starting HTTP/1.1 POST https://localhost:44332/Account/KeepAlive - application/json 0
Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: Debug: Request matched endpoint 'BCES.Controllers.Parts.MakeVsBuyController.GetMakeVsBuyById (CES)'
Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Debug: POST requests are not supported
Microsoft.AspNetCore.Routing.EndpointMiddleware: Information: Executing endpoint 'BCES.Controllers.Parts.MakeVsBuyController.GetMakeVsBuyById (CES)'
Microsoft.AspNetCore.Session.DistributedSession: Debug: Session loaded; Key:9b2eee2f-8c08-2326-ffd1-818790d93908, Id:51e2b812-2296-c695-11a7-a24deda099f4, Count:6
Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Debug: 1 candidate(s) found for the request path '/Account/KeepAlive'
Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Debug: Endpoint 'BCES.Controllers.Admin.AccountController.KeepAlive (CES)' with route pattern '{controller=Home}/{action=Index}/{id?}' is valid for the request path '/Account/KeepAlive'
Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: Debug: Request matched endpoint 'BCES.Controllers.Admin.AccountController.KeepAlive (CES)'
Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Debug: Authorization was successful.
Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware: Debug: POST requests are not supported
Microsoft.AspNetCore.Session.DistributedSession: Debug: Session loaded; Key:9b2eee2f-8c08-2326-ffd1-818790d93908, Id:51e2b812-2296-c695-11a7-a24deda099f4, Count:6
Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Debug: 1 candidate(s) found for the request path '/MakeVsBuy/GetMakeVsBuyById'
Microsoft.AspNetCore.Routing.Matching.DfaMatcher: Debug: Endpoint 'BCES.Controllers.Parts.MakeVsBuyController.GetMakeVsBuyById (CES)' with route pattern '{controller=Home}/{action=Index}/{id?}' is valid for the request path '/MakeVsBuy/GetMakeVsBuyById'
Microsoft.AspNetCore.Cors.Infrastructure.CorsService: Debug: The request has an origin header: 'https://localhost:44332'.
Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware: Debug: Request matched endpoint 'BCES.Controllers.Parts.MakeVsBuyController.GetMakeVsBuyById (CES)'
Microsoft.AspNetCore.Cors.Infrastructure.CorsService: Information: CORS policy execution successful.
Microsoft.AspNetCore.Cors.Infrastructure.CorsService: Debug: The request has an origin header: 'https://localhost:44332'.
Microsoft.AspNetCore.Cors.Infrastructure.CorsService: Information: CORS policy execution successful.
Microsoft.AspNetCore.Routing.EndpointMiddleware: Information: Executing endpoint 'BCES.Controllers.Parts.MakeVsBuyController.GetMakeVsBuyById (CES)'
Microsoft.AspNetCore.Routing.EndpointMiddleware: Information: Executing endpoint 'BCES.Controllers.Admin.AccountController.KeepAlive (CES)'
Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Information: Route matched with {action = "GetMakeVsBuyById", controller = "MakeVsBuy"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMakeVsBuyById(System.String, Boolean) on controller BCES.Controllers.Parts.MakeVsBuyController (CES).
Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Debug: Execution plan of authorization filters (in the following order): Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter
Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Debug: Execution plan of resource filters (in the following order): Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter
Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Debug: Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648), Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)
Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Debug: Execution plan of exception filters (in the following order): None
Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Debug: Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter
Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Information: Route matched with {action = "KeepAlive", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult KeepAlive() on controller BCES.Controllers.Admin.AccountController (CES).
Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Debug: Authorization was successful.
Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Debug: Execution plan of authorization filters (in the following order): Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter
Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Debug: Executing controller factory for controller BCES.Controllers.Parts.MakeVsBuyController (CES)
Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Debug: Execution plan of resource filters (in the following order): Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter
Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Debug: Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648), Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)
Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Debug: Execution plan of exception filters (in the following order): None
Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Debug: Executed controller factory for controller BCES.Controllers.Parts.MakeVsBuyController (CES)
Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Debug: Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter
Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Information: Route matched with {action = "GetMakeVsBuyById", controller = "MakeVsBuy"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMakeVsBuyById(System.String, Boolean) on controller BCES.Controllers.Parts.MakeVsBuyController (CES).
Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Debug: Attempting to bind parameter 'id' of type 'System.String' ...
Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Debug: Authorization was successful.
Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Debug: Execution plan of authorization filters (in the following order): Microsoft.AspNetCore.Mvc.Authorization.AuthorizeFilter
Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Debug: Executing controller factory for controller BCES.Controllers.Admin.AccountController (CES)
Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Debug: Execution plan of resource filters (in the following order): Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter
Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Debug: Execution plan of action filters (in the following order): Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648), Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)
Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder: Debug: Attempting to bind parameter 'id' of type 'System.String' using the name 'id' in request data ...
Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Debug: Execution plan of exception filters (in the following order): None
Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Debug: Execution plan of result filters (in the following order): Microsoft.AspNetCore.Mvc.ViewFeatures.Filters.SaveTempDataFilter
Microsoft.AspNetCore.Authorization.DefaultAuthorizationService: Debug: Authorization was successful.
Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder: Debug: Done attempting to bind parameter 'id' of type 'System.String'.
Exception thrown: 'Microsoft.CSharp.RuntimeBinder.RuntimeBinderException' in Microsoft.CSharp.dll
Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Debug: Executing controller factory for controller BCES.Controllers.Parts.MakeVsBuyController (CES)
Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Debug: Done attempting to bind parameter 'id' of type 'System.String'.
Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Debug: Executed controller factory for controller BCES.Controllers.Parts.MakeVsBuyController (CES)
Exception thrown: 'Microsoft.CSharp.RuntimeBinder.RuntimeBinderException' in Microsoft.CSharp.dll
Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Debug: Attempting to validate the bound parameter 'id' of type 'System.String' ...
Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Debug: Done attempting to validate the bound parameter 'id' of type 'System.String'.
Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Debug: Attempting to bind parameter 'readOnly' of type 'System.Boolean' ...
Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder: Debug: Attempting to bind parameter 'readOnly' of type 'System.Boolean' using the name '' in request data ...
Exception thrown: 'Microsoft.CSharp.RuntimeBinder.RuntimeBinderException' in Microsoft.CSharp.dll
Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder: Debug: Could not find a value in the request with name '' for binding parameter 'readOnly' of type 'System.Boolean'.
Exception thrown: 'Microsoft.CSharp.RuntimeBinder.RuntimeBinderException' in Microsoft.CSharp.dll
Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder: Debug: Done attempting to bind parameter 'readOnly' of type 'System.Boolean'.
Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Debug: Done attempting to bind parameter 'readOnly' of type 'System.Boolean'.
Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Debug: Attempting to validate the bound parameter 'readOnly' of type 'System.Boolean' ...
Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Debug: Done attempting to validate the bound parameter 'readOnly' of type 'System.Boolean'.
Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Debug: Executed controller factory for controller BCES.Controllers.Admin.AccountController (CES)
Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Information: Executing action method BCES.Controllers.Admin.AccountController.KeepAlive (CES) - Validation state: Valid
Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Information: Executed action method BCES.Controllers.Admin.AccountController.KeepAlive (CES), returned result Microsoft.AspNetCore.Mvc.JsonResult in 0.2869ms.
Microsoft.AspNetCore.Mvc.NewtonsoftJson.NewtonsoftJsonResultExecutor: Information: Executing JsonResult, writing value of type '<>f__AnonymousType0`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Information: Executed action BCES.Controllers.Admin.AccountController.KeepAlive (CES) in 127.1825ms
Microsoft.AspNetCore.Routing.EndpointMiddleware: Information: Executed endpoint 'BCES.Controllers.Admin.AccountController.KeepAlive (CES)'
Microsoft.AspNetCore.Session.DistributedSession: Debug: Session stored; Key:9b2eee2f-8c08-2326-ffd1-818790d93908, Id:51e2b812-2296-c695-11a7-a24deda099f4, Count:6
Microsoft.AspNetCore.Hosting.Diagnostics: Information: Request finished HTTP/1.1 POST https://localhost:44332/Account/KeepAlive - 200 - application/json;+charset=utf-8 208.2151ms
Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Debug: Attempting to bind parameter 'id' of type 'System.String' ...
Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder: Debug: Attempting to bind parameter 'id' of type 'System.String' using the name 'id' in request data ...
Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder: Debug: Done attempting to bind parameter 'id' of type 'System.String'.
Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Debug: Done attempting to bind parameter 'id' of type 'System.String'.
Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Debug: Attempting to validate the bound parameter 'id' of type 'System.String' ...
Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Debug: Done attempting to validate the bound parameter 'id' of type 'System.String'.
Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Debug: Attempting to bind parameter 'readOnly' of type 'System.Boolean' ...
Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder: Debug: Attempting to bind parameter 'readOnly' of type 'System.Boolean' using the name '' in request data ...
Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder: Debug: Could not find a value in the request with name '' for binding parameter 'readOnly' of type 'System.Boolean'.
Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinder: Debug: Done attempting to bind parameter 'readOnly' of type 'System.Boolean'.
Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Debug: Done attempting to bind parameter 'readOnly' of type 'System.Boolean'.
Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Debug: Attempting to validate the bound parameter 'readOnly' of type 'System.Boolean' ...
Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder: Debug: Done attempting to validate the bound parameter 'readOnly' of type 'System.Boolean'.
Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker: Information: Executing action method BCES.Controllers.Parts.MakeVsBuyController.GetMakeVsBuyById (CES) - Validation state: Valid
