success: function () {
    var partNo = $("#MMSStockCode").val();
    var message = isEdit
        ? `${partNo} updated successfully`
        : `${partNo} added successfully`;

    // ✅ Show confirmation
    if ($("#notification").length && $("#notification").data("kendoNotification")) {
        $("#notification").data("kendoNotification").show(message, "success");
    } else {
        alert(message);
    }

    // ✅ Reset change tracking so close won't warn
    popupHasChanges = false;
    originalData = null;

    // ✅ Close popup
    var popupWindow = $("#scPartsForm").closest(".k-window-content").data("kendoWindow");
    if (popupWindow) {
        popupWindow.close();
    } else {
        console.warn("⚠ No popup window found to close");
    }
}
