TypeError: Cannot read properties of undefined (reading 'dataSource')
we dont need this grid.dataSource.read, I removed it


I also have
function onScRequestEnd(e) {
    if (["create", "update", "destroy"].includes(e.type)) {
        this.dataSource.read();
    }
}
closing window is inferencing with : so getting : You have unsaved changes. Are you sure you want to discard them?
  function onScPartsEdit(e) {
    console.log("Inside onScPartsEdit");
    var wnd = e.container.data("kendoWindow");
    wnd.setOptions({
        width: "950px",
    title: e.model.isNew() ? "Add New Stock Coded Part" : "Edit Stock Coded Part",
    modal: true,
    resizable: false,
    appendTo: "#vehiclePopupContainer"
        });

    // Apply your custom class for styling
    e.container.closest(".k-window").addClass("scparts-popup-style");

    console.log("e.sender:", e.sender);
    console.log("e.sender.options:", e.sender.options);
    console.log("e.sender.options.name:", e.sender.options.name);
    // handle x
    originalData = e.model.toJSON();

    // Track changes
    e.container.find("input, select, textarea").on("change input", function () {
        popupHasChanges = true;
    });

    // Intercept popup close ("X" button)
    e.container.data("kendoWindow").bind("close", function (ev) {
        if (popupHasChanges && JSON.stringify(originalData) !== JSON.stringify(e.model.toJSON())) {
            if (!confirm("You have unsaved changes. Are you sure you want to discard them?")) {
                ev.preventDefault();
            }
        }
    });
    //end handle x
    // Check if this edit is from the ScGrid
    if (e.sender && e.sender.options && e.sender.options.name === "Grid") {
        currentScPartsModel = e.model;
        console.log("Captured ScGrid model:", currentScPartsModel);
    }
}
